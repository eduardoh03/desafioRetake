{% extends 'base.html' %}
{% block body %}

    {% load static %}
    <style>
        .inline-form {
            border-bottom: 1px solid black;
            padding: 10px;
        }

        .hidden {
            display: none
        }

        .top-buffer {
            justify-content: center;
            padding: 25px;
        }

        .title {
            text-align: center;
        }
        .buttons{
            padding: 5px
        }
        .form-css {
            width: 71vw
        }
        .parts-form-list{
            padding: 15px;
            justify-content: center;
        }
    </style>
    <div class="top-buffer">
        <h1 class="title">Atualizar Processo #{{ process.number }}</h1>
        <form method="post">
            {% csrf_token %}
            <br>
            <div class="form-group">
                <label for="subject" class="col-md-3 control-label">Assunto</label>
                <div class="col-md-9">
                    <input type="text" class="form-control" id="subject" name="subject"
                           value="{{ p_form.subject.value }}"
                           placeholder="Assunto"/>
                </div>
            </div>
            <div class="form-group">
                <label for="department" class="col-md-3 control-label">Classe</label>
                <div class="col-md-9">
                    <input type="text" class="form-control" id="department" name="department"
                           value="{{ p_form.department.value }}"
                           placeholder="Classe"/>
                </div>
            </div>
            <div class="form-group">
                <label for="judge" class="col-md-3 control-label">Juiz</label>
                <div class="col-md-9">
                    <input type="text" class="form-control" id="judge" name="judge"
                           value="{{ p_form.judge.value }}"
                           placeholder="Juiz"/>
                </div>
            </div>

            <div id="parts-form-list">
                {{ form_parts.management_form }}
                {% for form  in form_parts %}
                    <div class="inline-form">
                        {{ form }}
                    </div>

                {% endfor %}
            </div>
            <div id='empty-form' class="hidden">
                {{ form_parts.empty_form.as_p }}
            </div>
            <div class="buttons">
                <button type="button" class="btn btn-sm btn-outline-primary" style="font-size: 18px">
                    Atualizar
                </button>
            </div>


        </form>
    </div>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="{% static 'formset/jquery.formset.js' %}"></script>
    <script type="text/javascript">
        $('.inline-form').formset({
            addText: 'Adicionar Parte',
            deleteText: 'Remover Parte',
            addCssClass: 'btn btn-outline-success',
            deleteCssClass: 'btn btn-outline-danger btn-sm',
            prefix: '{{form_parts.prefix}}'
        });
    </script>
{% endblock body %}
